<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글 수정</title>
    <link rel="stylesheet" href="/css/space.css">
</head>
<body>
<div class="container">
    <!-- 헤더 -->
    <div class="nav">
        <a href="/" class="brand">🌌 Nebula Board</a>
        <div>
        <span sec:authorize="isAnonymous()">
          <a href="/login" class="btn btn-ghost">로그인</a>
          <a href="/join" class="btn btn-primary">회원가입</a>
        </span>
            <span sec:authorize="isAuthenticated()">
          <span class="badge">안녕하세요, <strong sec:authentication="name"></strong></span>
          <form method="post" action="/logout" style="display:inline;">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <button class="btn btn-ghost" type="submit">로그아웃</button>
          </form>
        </span>
        </div>
    </div>

    <div class="card" style="max-width:720px; margin:16px auto;">
        <h1 style="margin-top:0">글 수정</h1>

        <!-- JS에서 사용 (필수) -->
        <input type="hidden" id="article-id" th:value="${article.id}" />

        <label>제목</label>
        <input id="title" type="text" th:value="${article.title}" required>

        <label>내용</label>
        <textarea id="content" rows="10" required th:text="${article.content}"></textarea>

        <div class="actions" style="margin-top:14px;">
            <button type="button" id="modify-btn" class="btn btn-primary">저장</button>
            <a th:href="@{'/articles/' + ${article.id}}" class="btn">취소</a>
            <a href="/articles" class="btn">목록</a>
        </div>
    </div>
</div>

<script src="/js/article.js" defer></script>
</body>
</html>
